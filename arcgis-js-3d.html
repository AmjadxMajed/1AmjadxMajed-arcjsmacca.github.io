<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
    <title>ElevationLayer | Sample | ArcGIS API for JavaScript 4.20</title>
    <style>
        html,
        body,
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }

        #paneDiv {
            position: absolute;
            top: 18px;
            right: 18px;
            padding: 12px;
            background-color: rgba(0, 0, 0, 0.5);
            color: white;
        }
    </style>

    <link rel="stylesheet" href="https://js.arcgis.com/4.20/esri/themes/light/main.css" />
    <script src="https://js.arcgis.com/4.20/"></script>

    <script>
        require(["esri/Map", "esri/views/SceneView", "esri/layers/ElevationLayer", "esri/layers/FeatureLayer",
            "esri/widgets/Legend", "esri/widgets/Home"],
            (Map, SceneView, ElevationLayer, FeatureLayer, Legend, Home) => {
                // Create the Map
                var template = {
                    title: "Aricd: {arcid} <br>" + "Grid Code: {grid_code}<br>" +
                        "From Node: {from_node}<Br>" +
                        "To Node: {to_node}<Br>"

                }
                var mylayer = new FeatureLayer({
                    // URL to the service
                    url: "https://services9.arcgis.com/SKX4Ho42BPrgC7Qi/arcgis/rest/services/MapMaccaHyd2_WFL1/FeatureServer",
                    popupTemplate: template

                });
                const map = new Map({
                    basemap: "topo-vector",
                    ground: "world-elevation",
                    layers: [mylayer]

                });


                // Create the MapView
                const view = new SceneView({
                    container: "viewDiv",
                    zoom: 8,
                    map: map,
                    camera: {
                        position: [39.9899420, 21.2669526, 16000],
                        heading: 0,
                        tilt: 60

                    },

                });

                let legend = new Legend({
                    view: view,
                    layerInfos: [{
                        layer: mylayer,
                        title: "Legend"
                    }]
                });

                view.ui.add(legend, "bottom-right");
                let homeWidget = new Home({
                    view: view
                });

                // adds the home widget to the top left corner of the MapView
                view.ui.add(homeWidget, "top-left");



            });
    </script>
</head>

<body>
    <div id="viewDiv"></div>

</body>

</html>